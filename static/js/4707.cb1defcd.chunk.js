"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[4707],{8079:function(e,t,n){var a=n(76747),r=n(86495),s=n(26319),o=n(71945),i=(0,a.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(o.Z.values.typeProjetRead)})),l=(0,a.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(o.Z.values.typeProjetEdit)})),c=(0,a.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(o.Z.values.typeProjetCreate)})),d=(0,a.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(o.Z.values.typeProjetImport)})),u={selectPermissionToRead:i,selectPermissionToEdit:l,selectPermissionToCreate:c,selectPermissionToDestroy:(0,a.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],(function(e,t){return new s.Z(e,t).match(o.Z.values.typeProjetDestroy)})),selectPermissionToImport:d};t.Z=u},47854:function(e,t,n){n.r(t);var a=n(15861),r=n(70885),s=n(87757),o=n.n(s),i=n(47313),l=n(1168),c=n(10499),d=n(61781),u=n(38254),m=n(14122),p=n(46417);t.default=function(e){var t=(0,i.useRef)(),n=(0,i.useState)(!1),s=(0,r.Z)(n,2),j=s[0],f=s[1];(0,i.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);var h=function(){var n=(0,a.Z)(o().mark((function n(a,r){var s,i,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f(!0),n.next=4,u.Z.create(r);case 4:return s=n.sent,i=s.id,n.next=8,u.Z.find(i);case 8:l=n.sent,window.$(t.current).modal("hide"),m.Z.success((0,c.ag)("entities.dons.create.success")),e.onSuccess(l),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),window.$(t.current).modal("hide");case 17:return n.prev=17,f(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,14,17,20]])})));return function(e,t){return n.apply(this,arguments)}}();return l.createPortal((0,p.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:(0,p.jsx)("div",{className:"modal-dialog modal-lg",children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsx)("h5",{className:"modal-title",children:(0,c.ag)("entities.dons.new.title")}),(0,p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:(0,p.jsx)("span",{children:"\xd7"})})]}),(0,p.jsx)("div",{className:"modal-body",children:(0,p.jsx)(d.Z,{saveLoading:j,onSubmit:h,onCancel:function(){window.$(t.current).modal("hide")},modal:!0,recordIdprojet:e.recordIdprojet,recordIdtitre:e.recordIdtitre})})]})})}),document.getElementById("modal-root"))}},64707:function(e,t,n){n.r(t),n.d(t,{default:function(){return je}});var a=n(47313),r=n(10499),s=n(1413),o=n(70885),i=n(81685),l=n(27488),c=n(45788),d=n(43270),u=n(47590),m=n(95748),p=n(69138),j=n(42277),f=n(67357),h=n(13586),g=n(40846),x=n(47575),v=n(38247),b=n(5544),Z=n(20373),y=n(25803),N=n(46417),w=j.Ry().shape({titre:u.Z.string((0,r.ag)("entities.projet.fields.titre")),description:u.Z.string((0,r.ag)("entities.projet.fields.description")),details:u.Z.string((0,r.ag)("entities.projet.fields.details")),typeProjet:u.Z.enumerator((0,r.ag)("entities.projet.fields.typeProjet")),statutProjet:u.Z.enumerator((0,r.ag)("entities.projet.fields.statutProjet")),budgetRange:u.Z.decimalRange((0,r.ag)("entities.projet.fields.budgetRange")),lieu:u.Z.string((0,r.ag)("entities.projet.fields.lieu")),dateDebutProjetRange:u.Z.datetimeRange((0,r.ag)("entities.projet.fields.dateDebutProjetRange")),dateFinProjetRange:u.Z.datetimeRange((0,r.ag)("entities.projet.fields.dateFinProjetRange")),dateDebutDonRange:u.Z.dateRange((0,r.ag)("entities.projet.fields.dateDebutDonRange")),dateFinDonRange:u.Z.dateRange((0,r.ag)("entities.projet.fields.dateFinDonRange"))}),C={titre:null,description:null,details:null,typeProjet:null,statutProjet:null,budgetRange:[],lieu:null,dateDebutProjetRange:[],dateFinProjetRange:[],dateDebutDonRange:[],dateFinDonRange:[]},P={titre:{label:(0,r.ag)("entities.projet.fields.titre"),render:g.Z.generic()},description:{label:(0,r.ag)("entities.projet.fields.description"),render:g.Z.generic()},details:{label:(0,r.ag)("entities.projet.fields.details"),render:g.Z.generic()},typeProjet:{label:(0,r.ag)("entities.projet.fields.typeProjet"),render:g.Z.enumerator("entities.projet.enumerators.typeProjet")},statutProjet:{label:(0,r.ag)("entities.projet.fields.statutProjet"),render:g.Z.enumerator("entities.projet.enumerators.statutProjet")},budgetRange:{label:(0,r.ag)("entities.projet.fields.budgetRange"),render:g.Z.decimalRange()},lieu:{label:(0,r.ag)("entities.projet.fields.lieu"),render:g.Z.generic()},dateDebutProjetRange:{label:(0,r.ag)("entities.projet.fields.dateDebutProjetRange"),render:g.Z.datetimeRange()},dateFinProjetRange:{label:(0,r.ag)("entities.projet.fields.dateFinProjetRange"),render:g.Z.datetimeRange()},dateDebutDonRange:{label:(0,r.ag)("entities.projet.fields.dateDebutDonRange"),render:g.Z.dateRange()},dateFinDonRange:{label:(0,r.ag)("entities.projet.fields.dateFinDonRange"),render:g.Z.dateRange()}};var R=function(e){var t=(0,c.v9)(l.Z.selectRawFilter),n=(0,c.I0)(),u=(0,a.useState)(!1),j=(0,o.Z)(u,2),g=j[0],R=j[1],k=(0,a.useState)((function(){return(0,s.Z)((0,s.Z)({},C),t)})),S=(0,o.Z)(k,1)[0],T=(0,d.cI)({resolver:(0,f.X)(w),defaultValues:S,mode:"all"});(0,a.useEffect)((function(){n(i.Z.doFetch(w.cast(S),t))}),[n]);var D=function(e){var t=T.getValues();n(i.Z.doFetch(e,t)),R(!1)};return(0,N.jsxs)(p.Z,{children:[(0,N.jsx)(h.Z,{onClick:function(){R(!g)},renders:P,values:t,expanded:g,onRemove:function(e){return T.setValue(e,C[e]),T.handleSubmit(D)()}}),(0,N.jsx)("div",{className:"container",children:(0,N.jsx)("div",{className:"collapse ".concat(g?"show":""),children:(0,N.jsx)(d.RV,(0,s.Z)((0,s.Z)({},T),{},{children:(0,N.jsxs)("form",{onSubmit:T.handleSubmit(D),children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(x.Z,{name:"titre",label:(0,r.ag)("entities.projet.fields.titre")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(x.Z,{name:"description",label:(0,r.ag)("entities.projet.fields.description")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(x.Z,{name:"details",label:(0,r.ag)("entities.projet.fields.details")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(b.Z,{name:"typeProjet",label:(0,r.ag)("entities.projet.fields.typeProjet"),options:Z.Z.typeProjet.map((function(e){return{value:e,label:(0,r.ag)("entities.projet.enumerators.typeProjet.".concat(e))}}))})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(b.Z,{name:"statutProjet",label:(0,r.ag)("entities.projet.fields.statutProjet"),options:Z.Z.statutProjet.map((function(e){return{value:e,label:(0,r.ag)("entities.projet.enumerators.statutProjet.".concat(e))}}))})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(v.Z,{name:"budgetRange",label:(0,r.ag)("entities.projet.fields.budgetRange")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(x.Z,{name:"lieu",label:(0,r.ag)("entities.projet.fields.lieu")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(y.Z,{name:"dateDebutProjetRange",label:(0,r.ag)("entities.projet.fields.dateDebutProjetRange"),showTimeInput:!0})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(y.Z,{name:"dateFinProjetRange",label:(0,r.ag)("entities.projet.fields.dateFinProjetRange"),showTimeInput:!0})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(y.Z,{name:"dateDebutDonRange",label:(0,r.ag)("entities.projet.fields.dateDebutDonRange")})}),(0,N.jsx)("div",{className:"col-lg-6 col-12",children:(0,N.jsx)(y.Z,{name:"dateFinDonRange",label:(0,r.ag)("entities.projet.fields.dateFinDonRange")})})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsxs)("div",{className:"col-12 filter-buttons",children:[(0,N.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:e.loading,children:[(0,N.jsx)(m.Z,{loading:e.loading,iconClass:"fas fa-search"})," ",(0,r.ag)("common.search")]}),(0,N.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(C).forEach((function(e){T.setValue(e,C[e])})),n(i.Z.doReset()),R(!1)},disabled:e.loading,children:[(0,N.jsx)(m.Z,{loading:e.loading,iconClass:"fas fa-undo"})," ",(0,r.ag)("common.reset")]})]})})]})}))})})]})},k=n(42982),S=n(28303),T=n(76747),D=n(86495),I=n(26319),F=n(71945),E=(0,T.P1)([D.Z.selectCurrentTenant,D.Z.selectCurrentUser],(function(e,t){return new I.Z(e,t).match(F.Z.values.projetRead)})),B=(0,T.P1)([D.Z.selectCurrentTenant,D.Z.selectCurrentUser],(function(e,t){return new I.Z(e,t).match(F.Z.values.projetEdit)})),L=(0,T.P1)([D.Z.selectCurrentTenant,D.Z.selectCurrentUser],(function(e,t){return new I.Z(e,t).match(F.Z.values.projetCreate)})),U=(0,T.P1)([D.Z.selectCurrentTenant,D.Z.selectCurrentUser],(function(e,t){return new I.Z(e,t).match(F.Z.values.projetImport)})),V={selectPermissionToRead:E,selectPermissionToEdit:B,selectPermissionToCreate:L,selectPermissionToDestroy:(0,T.P1)([D.Z.selectCurrentTenant,D.Z.selectCurrentUser],(function(e,t){return new I.Z(e,t).match(F.Z.values.projetDestroy)})),selectPermissionToImport:U},A=n(37567),M={selectLoading:(0,T.P1)([function(e){return e.projet.destroy}],(function(e){return Boolean(e.loading)}))},$=n(98848),q=n(44587),O=n(61567),H=n(27216),W=n(97249),G=n(47854),K=n(15861),X=n(87757),_=n.n(X),z=n(1168),J=n(13712),Q=n(65846),Y=n(14122);var ee=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),s=(0,o.Z)(n,2),i=s[0],l=s[1];(0,a.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);var c=function(){var n=(0,K.Z)(_().mark((function n(a,s){var o,i,c;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(!0),n.next=4,Q.Z.create(s);case 4:return o=n.sent,i=o.id,n.next=8,Q.Z.find(i);case 8:c=n.sent,window.$(t.current).modal("hide"),Y.Z.success((0,r.ag)("entities.votes.create.success")),e.onSuccess(c),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),window.$(t.current).modal("hide");case 17:return n.prev=17,l(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,14,17,20]])})));return function(e,t){return n.apply(this,arguments)}}();return z.createPortal((0,N.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:(0,N.jsx)("div",{className:"modal-dialog modal-lg",children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h5",{className:"modal-title",children:(0,r.ag)("entities.votes.new.title")}),(0,N.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:(0,N.jsx)("span",{children:"\xd7"})})]}),(0,N.jsx)("div",{className:"modal-body",children:(0,N.jsx)(J.Z,{saveLoading:i,onSubmit:c,onCancel:function(){window.$(t.current).modal("hide")},modal:!0,recordIdprojet:e.recordIdprojet,recordIdtitre:e.recordIdtitre})})]})})}),document.getElementById("modal-root"))},te=n(8079);var ne=function(e){(0,c.v9)(te.Z.selectPermissionToRead);var t=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]};return t().length?(0,N.jsx)(N.Fragment,{children:t().map((function(e){return t=e,(0,N.jsx)("div",{children:t.nom},t.id);var t}))}):null};var ae=function(e){var t=(0,a.useState)(null),n=(0,o.Z)(t,2),s=n[0],u=n[1],m=(0,a.useState)(null),p=(0,o.Z)(m,2),j=p[0],f=p[1],h=(0,a.useState)(null),g=(0,o.Z)(h,2),x=g[0],v=g[1],b=(0,d.cI)(),Z=b.setValue,y=b.getValues,w=(0,a.useState)(!1),C=(0,o.Z)(w,2),P=C[0],R=C[1],T=(0,a.useState)(!1),D=(0,o.Z)(T,2),I=D[0],F=D[1],E=(0,c.I0)(),B=function(){R(!1)},L=function(){F(!1)},U=(0,c.v9)(l.Z.selectLoading),K=(0,c.v9)(M.selectLoading),X=(0,c.v9)(V.selectPermissionToCreate),_=U||K,z=(0,c.v9)(l.Z.selectRows),J=(0,c.v9)(l.Z.selectPagination),Q=(0,c.v9)(l.Z.selectSelectedKeys),Y=(0,c.v9)(l.Z.selectHasRows),te=(0,c.v9)(l.Z.selectSorter),ae=(0,c.v9)(l.Z.selectIsAllSelected),re=(0,c.v9)(V.selectPermissionToEdit),se=(0,c.v9)(V.selectPermissionToDestroy),oe=function(){u(null)},ie=function(e){var t=te.field===e&&"ascend"===te.order?"descend":"ascend";E(i.Z.doChangeSort({field:e,order:t}))};return(0,N.jsxs)(H.Z,{children:[(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table table-striped     mt-2",children:[(0,N.jsx)("thead",{className:"thead",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)($.Z,{className:"th-checkbox",children:Y&&(0,N.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,N.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox",checked:Boolean(ae),onChange:function(){E(i.Z.doToggleAllSelected())}}),(0,N.jsx)("label",{htmlFor:"table-header-checkbox",className:"custom-control-label",children:"\xa0"})]})}),(0,N.jsx)($.Z,{onSort:ie,hasRows:Y,sorter:te,name:"titre",label:(0,r.ag)("entities.projet.fields.titre")}),(0,N.jsx)($.Z,{label:(0,r.ag)("entities.projet.fields.typeProjet")}),(0,N.jsx)($.Z,{onSort:ie,hasRows:Y,sorter:te,name:"statutProjet",label:(0,r.ag)("entities.projet.fields.statutProjet")}),(0,N.jsx)($.Z,{label:(0,r.ag)("entities.projet.fields.budget")}),(0,N.jsx)($.Z,{className:"th-actions"})]})}),(0,N.jsxs)("tbody",{children:[_&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:100,children:(0,N.jsx)(O.Z,{})})}),!_&&!Y&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:100,children:(0,N.jsx)("div",{className:"d-flex justify-content-center",children:(0,r.ag)("table.noData")})})}),!_&&z.map((function(e){return(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"th-checkbox",scope:"row",children:(0,N.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,N.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox-".concat(e.id),checked:Q.includes(e.id),onChange:function(){return t=e.id,void E(i.Z.doToggleOneSelected(t));var t}}),(0,N.jsx)("label",{htmlFor:"table-header-checkbox-".concat(e.id),className:"custom-control-label",children:"\xa0"})]})}),(0,N.jsx)("td",{children:e.titre}),(0,N.jsx)("td",{children:(0,N.jsx)(ne,{value:e.typeProjet})}),(0,N.jsx)("td",{children:e.statutProjet?(0,r.ag)("entities.projet.enumerators.statutProjet.".concat(e.statutProjet)):null}),(0,N.jsx)("td",{children:e.budget}),(0,N.jsxs)("td",{className:"td-actions",children:[X&&(0,N.jsx)(S.rU,{className:"btn btn-link",onClick:function(){!function(e,t){e,f(e),v(t=t),F(!0)}(e.id,e.titre)},children:(0,r.ag)("Votes")}),X&&(0,N.jsx)(S.rU,{className:"btn btn-link",onClick:function(){!function(e,t){e,f(e),v(t=t),R(!0)}(e.id,e.titre)},children:(0,r.ag)("Dons")}),(0,N.jsx)(S.rU,{className:"btn btn-link",to:{pathname:"/projet/".concat(e.id),state:{idprojet:e.id}},children:(0,r.ag)("common.view")}),re&&(0,N.jsx)(S.rU,{className:"btn btn-link",to:"/projet/".concat(e.id,"/edit"),children:(0,r.ag)("common.edit")}),se&&(0,N.jsx)("button",{className:"btn btn-link",type:"button",onClick:function(){return t=e.id,void u(t);var t},children:(0,r.ag)("common.destroy")})]})]},e.id)}))]})]})}),(0,N.jsx)(W.Z,{onChange:function(e){E(i.Z.doChangePagination(e))},disabled:_,pagination:J}),P&&(0,N.jsx)(G.default,{onClose:B,onSuccess:function(t){var n=e.name,a=e.mode;Z(n,a&&"multiple"===a?[].concat((0,k.Z)(y()[n]||[]),[t,e.idprojet,e.titre]):[t,e.idprojet,e.titre]),B()},recordIdprojet:j,recordIdtitre:x}),I&&(0,N.jsx)(ee,{onClose:L,onSuccess:function(t){var n=e.name,a=e.mode;Z(n,a&&"multiple"===a?[].concat((0,k.Z)(y()[n]||[]),[t,e.idprojet,e.titre]):[t,e.idprojet,e.titre]),L()},recordIdprojet:j,recordIdtitre:x}),s&&(0,N.jsx)(q.Z,{title:"\xcates-vous s\xfbr de supprimer?\n          Les donn\xe9es relatives au projet seront supprim\xe9es aussi,\n          cette action est irr\xe9versible.",onConfirm:function(){return e=s,oe(),void E(A.Z.doDestroy(e));var e},onClose:function(){return oe()},okText:(0,r.ag)("common.yes"),cancelText:(0,r.ag)("common.no")})]})},re=n(23516),se=n(10419),oe=n(883);var ie=function(e){var t=(0,a.useState)(!1),n=(0,o.Z)(t,2),s=n[0],d=n[1],u=(0,c.I0)(),p=(0,c.v9)(l.Z.selectSelectedKeys),j=(0,c.v9)(l.Z.selectLoading),f=(0,c.v9)(M.selectLoading),h=(0,c.v9)(l.Z.selectExportLoading),g=(0,c.v9)(l.Z.selectHasRows),x=(0,c.v9)(re.Z.selectPermissionToRead),v=(0,c.v9)(V.selectPermissionToDestroy),b=(0,c.v9)(V.selectPermissionToCreate),Z=(0,c.v9)(V.selectPermissionToImport),y=function(){d(!0)},w=function(){d(!1)},C=function(){u(i.Z.doExport())};return(0,N.jsxs)(se.Z,{children:[b&&(0,N.jsx)(S.rU,{to:"/projet/new",children:(0,N.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,N.jsx)(m.Z,{iconClass:"fas fa-plus"})," "]})}),Z&&(0,N.jsx)(S.rU,{to:"/projet/importer",children:(0,N.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,N.jsx)(m.Z,{iconClass:"fas fa-upload"})," "]})}),function(){if(!v)return null;var e=!p.length||j,t=(0,N.jsxs)("button",{disabled:e,className:"btn btn-primary",type:"button",onClick:y,children:[(0,N.jsx)(m.Z,{loading:f,iconClass:"far fa-trash-alt"})," "]});return e?(0,N.jsxs)("span",{"data-tip":(0,r.ag)("common.mustSelectARow"),"data-tip-disable":!e,"data-for":"projet-list-toolbar-destroy-tooltip",children:[t,(0,N.jsx)(oe.Z,{id:"projet-list-toolbar-destroy-tooltip"})]}):t}(),x&&(0,N.jsx)(S.rU,{to:"/audit-logs?entityNames=projet",children:(0,N.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,N.jsx)(m.Z,{iconClass:"fas fa-history"})," "]})}),function(){var e=!g||j,t=(0,N.jsxs)("button",{className:"btn btn-light",disabled:e,onClick:C,type:"button",children:[(0,N.jsx)(m.Z,{loading:h,iconClass:"far fa-file-excel"})," "]});return e?(0,N.jsxs)("span",{"data-tip":(0,r.ag)("common.noDataToExport"),"data-tip-disable":!e,"data-for":"projet-list-toolbar-export-tooltip",children:[t,(0,N.jsx)(oe.Z,{id:"projet-list-toolbar-export-tooltip"})]}):t}(),s&&(0,N.jsx)(q.Z,{title:"\xcates-vous s\xfbr de supprimer?\n          Les donn\xe9es relatives au projet seront supprim\xe9es aussi,\n          cette action est irr\xe9versible.",onConfirm:function(){return w(),void u(A.Z.doDestroyAll(p))},onClose:function(){return w()},okText:(0,r.ag)("common.yes"),cancelText:(0,r.ag)("common.no")})]})},le=n(27829),ce=n(53852),de=n(75352),ue=n(22102),me=n(63849),pe=n(31616);var je=function(e){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ce.Z,{items:[[(0,r.ag)("dashboard.menu"),"/"],[(0,r.ag)("entities.projet.menu")]]}),(0,N.jsxs)(le.Z,{children:[(0,N.jsx)(ue.Z,{fluid:!0,children:(0,N.jsxs)(me.Z,{children:[(0,N.jsx)(pe.Z,{xs:9,children:(0,N.jsx)(de.Z,{children:(0,r.ag)("entities.projet.list.title")})}),(0,N.jsx)(pe.Z,{md:"auto",children:(0,N.jsx)(ie,{})})]})}),(0,N.jsx)(R,{}),(0,N.jsx)(ae,{})]})]})}},13586:function(e,t,n){n.d(t,{Z:function(){return s}});n(47313);var a=n(10499),r=n(46417);function s(e){var t=e.values,n=e.renders,s=e.onClick,o=e.onRemove,i=Object.keys(t||{}).map((function(e){return n[e]?{key:e,label:n[e].label,value:n[e].render(t[e])}:{value:null}})).filter((function(e){return e.value||0===e.value||!1===e.value}));return(0,r.jsxs)("div",{onClick:s,className:"filter-preview",children:[!i.length||e.expanded?(0,r.jsx)("div",{className:"filter-preview-left",children:(0,a.ag)("common.filters")}):(0,r.jsxs)("div",{className:"filter-preview-left",children:[(0,a.ag)("common.filters"),":",(0,r.jsx)("span",{className:"filter-preview-values",children:i.map((function(e){return(0,r.jsxs)("span",{className:"badge badge-dark",style:{cursor:"default"},onClick:function(e){e.stopPropagation()},children:["".concat(e.label,": ").concat(e.value),o&&(0,r.jsx)("i",{style:{marginLeft:4,backgroundColor:"rgba(0,0,0,0.5)",padding:2,borderRadius:999,cursor:"pointer"},onClick:o?function(){return o(e.key)}:void 0,className:"fas fa-times"})]},e.label)}))})]}),(0,r.jsx)("div",{className:"filter-preview-right",children:e.expanded?(0,r.jsx)("i",{className:"fas fa-chevron-up"},"fa-chevron-up"):(0,r.jsx)("i",{className:"fas fa-chevron-down"},"fa-chevron-down")})]})}},25803:function(e,t,n){var a=n(47313),r=n(43270),s=n(49384),o=n(61378),i=n.n(o),l=(n(72632),n(46417));function c(e){var t=e.label,n=e.name,o=e.hint,c=e.placeholder,d=e.autoFocus,u=e.required,m=e.showTimeInput,p=e.externalErrorMessage,j=(0,r.Gc)(),f=j.register,h=j.errors,g=j.formState,x=g.touched,v=g.isSubmitted,b=j.setValue,Z=j.watch,y=s.Z.errorMessage(n,h,x,v,p),N=Z(n);(0,a.useEffect)((function(){f({name:n})}),[f,n]);var w=function(){return N?Array.isArray(!N)?null:N.length&&N[0]||null:null},C=function(){return N?Array.isArray(!N)||N.length<2?null:N[1]||null:null};return(0,l.jsxs)("div",{className:"form-group",children:[Boolean(t)&&(0,l.jsx)("label",{className:"col-form-label ".concat(u?"required":null),htmlFor:n,children:t}),(0,l.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",alignItems:"baseline"},children:[(0,l.jsx)(i(),{id:"".concat(n,"Start"),name:"".concat(n,"Start"),onChange:function(t){return function(t){b(n,[t,C()],{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange([t,C()])}(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},selected:w(),className:"form-control ".concat(y?"is-invalid":""),showTimeInput:m,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}},placeholderText:c||"",autoFocus:d||void 0,autoComplete:"off",dateFormat:m?"yyyy-MM-dd HH:mm":"yyyy-MM-dd",timeIntervals:15}),(0,l.jsx)("div",{style:{flexShrink:1,marginLeft:"8px",marginRight:"8px"},children:"~"}),(0,l.jsx)(i(),{id:"".concat(n,"End"),name:"".concat(n,"End"),onChange:function(t){return function(t){b(n,[w(),t],{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange([w(),t])}(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},selected:C(),className:"form-control ".concat(y?"is-invalid":""),showTimeInput:m,placeholderText:c||"",autoFocus:d||void 0,autoComplete:"off",dateFormat:m?"yyyy-MM-dd HH:mm":"yyyy-MM-dd",timeIntervals:15,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}})]}),(0,l.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(o)&&(0,l.jsx)("small",{className:"form-text text-muted",children:o})]})}c.defaultProps={required:!1},t.Z=c},38247:function(e,t,n){var a=n(47313),r=n(43270),s=n(49384),o=n(46417);function i(e){var t=e.label,n=e.name,i=e.hint,l=e.placeholder,c=e.autoFocus,d=e.autoComplete,u=e.required,m=e.externalErrorMessage,p=(0,r.Gc)(),j=p.register,f=p.errors,h=p.formState,g=h.touched,x=h.isSubmitted,v=p.setValue,b=p.watch,Z=s.Z.errorMessage(n,f,g,x,m),y=b(n);(0,a.useEffect)((function(){j({name:n})}),[j,n]);var N=function(){return y?Array.isArray(!y)?null:y.length?y[0]:null:null},w=function(){return y?Array.isArray(!y)||y.length<2?null:y[1]:null};return(0,o.jsxs)("div",{className:"form-group",children:[Boolean(t)&&(0,o.jsx)("label",{className:"col-form-label ".concat(u?"required":null),htmlFor:n,children:t}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",alignItems:"baseline"},children:[(0,o.jsx)("input",{style:{width:"100%"},type:"text",id:"".concat(n,"Start"),name:"".concat(n,"Start"),onChange:function(t){return a=t.target.value,v(n,[a,w()],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([a,w()]));var a},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:N(),placeholder:l||void 0,autoFocus:c||void 0,autoComplete:d||void 0,className:"form-control ".concat(Z?"is-invalid":"")}),(0,o.jsx)("div",{style:{flexShrink:1,marginLeft:"8px",marginRight:"8px"},children:"~"}),(0,o.jsx)("input",{style:{width:"100%"},type:"text",id:"".concat(n,"End"),name:"".concat(n,"End"),onChange:function(t){return a=t.target.value,v(n,[N(),a],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([a,N()]));var a},onBlur:function(t){e.onBlur&&e.onBlur(t)},value:w(),placeholder:l||void 0,autoFocus:c||void 0,autoComplete:d||void 0,className:"form-control ".concat(Z?"is-invalid":"")})]}),(0,o.jsx)("div",{className:"invalid-feedback",children:Z}),Boolean(i)&&(0,o.jsx)("small",{className:"form-text text-muted",children:i})]})}i.defaultProps={required:!1},t.Z=i},44587:function(e,t,n){var a=n(47313),r=n(1168),s=n(46417);t.Z=function(e){var t=(0,a.useRef)();(0,a.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);return r.createPortal((0,s.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:(0,s.jsx)("div",{className:"modal-dialog modal-sm",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:e.title}),(0,s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:(0,s.jsx)("span",{children:"\xd7"})})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-light btn-sm","data-dismiss":"modal",children:e.cancelText}),(0,s.jsx)("button",{type:"button",onClick:function(){return window.$(t.current).modal("hide"),e.onConfirm()},className:"btn btn-primary btn-sm",children:e.okText})]})]})})}),document.getElementById("modal-root"))}},69138:function(e,t,n){var a,r=n(30168),s=n(91876).ZP.div(a||(a=(0,r.Z)(["\n  border: 1px solid #e9e9e9;\n  border-radius: 5px;\n  margin-bottom: 8px;\n\n  .filter-preview {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    padding-top: 16px;\n    padding-bottom: 16px;\n    padding-right: 15px;\n    padding-left: 15px;\n  }\n\n  .filter-preview-left {\n    display: flex;\n    align-items: center;\n  }\n\n  .filter-preview-values {\n    margin-left: 8px;\n    display: flex;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n  }\n\n  .filter-preview-values .badge {\n    margin: 4px;\n    padding: 0.5em 0.5em;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .filter-buttons {\n    padding-top: 8px;\n    padding-bottom: 8px;\n    text-align: right;\n\n    .btn {\n      margin-left: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"])));t.Z=s},13712:function(e,t,n){var a=n(1413),r=n(70885),s=n(47313),o=n(43270),i=n(10499),l=n(89994),c=n(95748),d=n(68160),u=n(47575),m=n(42277),p=n(67357),j=n(21538),f=n(48317),h=n(63849),g=n(31616),x=n(46417),v=m.Ry().shape({adherent:l.Z.relationToOne((0,i.ag)("entities.votes.fields.adherent"),{required:!0}),votes:l.Z.integer((0,i.ag)("entities.votes.fields.votes"),{max:5,required:!0})});t.Z=function(e){var t=(0,s.useState)((function(){var t=e.record||{};return{adherent:t.adherent,votes:t.votes,projet:e.recordIdprojet,titre:e.recordIdtitre}})),n=(0,r.Z)(t,1)[0],l=(0,o.cI)({resolver:(0,p.X)(v),mode:"all",defaultValues:n}),m=function(t){var n,a,r,s;e.isEditing?(t.projet=null===(n=e.record)||void 0===n?void 0:n.projet,t.titre=null===(a=e.record)||void 0===a?void 0:a.titre,e.onSubmit(null===(r=e.record)||void 0===r?void 0:r.id,t)):e.onSubmit(null===(s=e.record)||void 0===s?void 0:s.id,t)};return(0,x.jsx)(d.Z,{children:(0,x.jsx)(o.RV,(0,a.Z)((0,a.Z)({},l),{},{children:(0,x.jsxs)("form",{onSubmit:l.handleSubmit(m),children:[(0,x.jsxs)(h.Z,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[(0,x.jsx)(g.Z,{sm:8,children:(0,x.jsx)(f.Z,{name:"adherent",label:(0,i.ag)("entities.votes.fields.adherent"),required:!0,showCreate:!1})}),(0,x.jsx)(g.Z,{sm:4,children:(0,x.jsx)(j.Z,{name:"votes",label:(0,i.ag)("entities.votes.fields.votes"),required:!0})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{style:{display:"none"},children:(0,x.jsx)(u.Z,{name:"projet"})}),(0,x.jsx)("div",{style:{display:"none"},children:(0,x.jsx)(u.Z,{name:"titre"})})]}),(0,x.jsxs)("div",{className:"form-buttons",children:[(0,x.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:l.handleSubmit(m),children:[(0,x.jsx)(c.Z,{loading:e.saveLoading,iconClass:"far fa-save"})," ",(0,i.ag)("common.save")]}),(0,x.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){l.setValue(e,n[e])}))},children:[(0,x.jsx)("i",{className:"fas fa-undo"})," ",(0,i.ag)("common.reset")]}),e.onCancel?(0,x.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,x.jsx)("i",{className:"fas fa-times"})," ",(0,i.ag)("common.cancel")]}):null]})]})}))})}},22102:function(e,t,n){var a=n(1413),r=n(45987),s=n(46123),o=n.n(s),i=n(47313),l=n(68524),c=n(46417),d=["bsPrefix","fluid","as","className"],u=i.forwardRef((function(e,t){var n=e.bsPrefix,s=e.fluid,i=e.as,u=void 0===i?"div":i,m=e.className,p=(0,r.Z)(e,d),j=(0,l.vE)(n,"container"),f="string"===typeof s?"-".concat(s):"-fluid";return(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:t},p),{},{className:o()(m,s?"".concat(j).concat(f):j)}))}));u.displayName="Container",u.defaultProps={fluid:!1},t.Z=u}}]);