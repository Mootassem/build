"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[9674],{39674:function(t,a,e){e.r(a),e.d(a,{default:function(){return T}});var n=e(47313),s=e(70885),r=e(70816),o=e.n(r),d=e(10499),i=e(54611),c=e(59436),l=e(8355),h=e(46417);function u(t){var a={onClick:function(t,a){(0,c.s1)().push("/entree")},title:{display:!0,text:(0,d.ag)("common.accounting")},tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},e=(0,n.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),r=(0,s.Z)(e,2),u=r[0],g=r[1],p=[0,0,0,0,0,0,0,0,0,0,0,0];(0,n.useEffect)((function(){i.Z.list("","","","").then((function(t){for(var a=0;a<t.rows.length;a++)for(var e=0;e<p.length;e++)o()(t.rows[a].date).month()===e&&o()(t.rows[a].date).year()===o()().year()&&(p[e]+=t.rows[a].amount);g(p)}))}),[]);var x={labels:[(0,d.ag)("dashboard.charts.months.1"),(0,d.ag)("dashboard.charts.months.2"),(0,d.ag)("dashboard.charts.months.3"),(0,d.ag)("dashboard.charts.months.4"),(0,d.ag)("dashboard.charts.months.5"),(0,d.ag)("dashboard.charts.months.6"),(0,d.ag)("dashboard.charts.months.7"),(0,d.ag)("dashboard.charts.months.8"),(0,d.ag)("dashboard.charts.months.9"),(0,d.ag)("dashboard.charts.months.10"),(0,d.ag)("dashboard.charts.months.11"),(0,d.ag)("dashboard.charts.months.12")],datasets:[{type:"line",label:(0,d.ag)("entities.entree.menu"),backgroundColor:"rgb(75, 192, 192)",borderColor:"rgb(75, 192, 192)",borderWidth:2,data:u}]};return(0,h.jsx)(l.ZP,{type:"bar",data:x,options:a})}var g=e(15861),p=e(87757),x=e.n(p),f=e(63947),m=("".concat((0,d.ag)("dashboard.charts.day")," 1"),"".concat((0,d.ag)("dashboard.charts.day")," 2"),"".concat((0,d.ag)("dashboard.charts.day")," 3"),"".concat((0,d.ag)("dashboard.charts.day")," 4"),"".concat((0,d.ag)("dashboard.charts.day")," 5"),(0,d.ag)("dashboard.charts.red"),{responsive:!0,legend:{display:!1,position:"top"},title:{display:!0,text:(0,d.ag)("dashboard.charts.objectif")},scales:{xAxes:[{display:!0}],yAxes:[{ticks:{beginAtZero:!0,callback:function(t){if(t%1===0)return t}},display:!0}]}});function b(t){var a=(0,n.useState)({}),e=(0,s.Z)(a,2),r=e[0],o=e[1],i=(0,n.useRef)(0);(0,n.useEffect)((function(){f.Z.objectifStatus().then(function(){var t=(0,g.Z)(x().mark((function t(a){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.current=a.length,o({labels:a.map((function(t){return(0,d.ag)("entities.objectif.enumerators.status.".concat(t._id))})),datasets:[{data:a.map((function(t){return t.count})),backgroundColor:["#50AF95","#ffbb11","#ecf0f1","#50AF95","#f3ba2f","#2a71d0"]}]});case 2:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}())}),[]);var c=[{afterDraw:function(t){if(0===i.current){var a=t.chart.ctx,e=t.chart.width,n=t.chart.height;t.clear(),a.save(),a.textAlign="center",a.textBaseline="middle",a.font="16px normal 'Helvetica Nueue'",a.fillText((0,d.ag)("dashboard.charts.objectif"),e/2,18),a.fillText((0,d.ag)("dashboard.charts.nodata"),e/2,n/2),a.restore()}}}];return(0,h.jsx)(l.$Q,{data:r,options:m,width:100,height:50,plugins:c})}var v={responsive:!0,legend:{display:!0,position:"top"},title:{display:!0,text:(0,d.ag)("dashboard.charts.projectS")}};function j(t){var a=(0,n.useState)({}),e=(0,s.Z)(a,2),r=e[0],o=e[1],i=(0,n.useRef)(0);(0,n.useEffect)((function(){f.Z.ProjetStatus().then((function(t){i.current=t.length,o({labels:t.map((function(t){return(0,d.ag)("entities.projet.enumerators.statutProjet.".concat(t._id))})),datasets:[{data:t.map((function(t){return t.count})),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]})}))}),[]);var c=[{afterDraw:function(t){if(0===i.current){var a=t.chart.ctx,e=t.chart.width,n=t.chart.height;t.clear(),a.save(),a.textAlign="center",a.textBaseline="middle",a.font="16px normal 'Helvetica Nueue'",a.fillText((0,d.ag)("dashboard.charts.projectS"),e/2,18),a.fillText((0,d.ag)("dashboard.charts.nodata"),e/2,n/2),a.restore()}}}];return(0,h.jsx)(l.$I,{options:v,data:r,plugins:c})}var y={responsive:!0,legend:{display:!1,position:"top"},title:{display:!0,text:(0,d.ag)("dashboard.charts.projectT")},scales:{xAxes:[{display:!0}],yAxes:[{ticks:{beginAtZero:!0,callback:function(t){if(t%1===0)return t}},display:!0}]}};function w(t){var a=(0,n.useState)({}),e=(0,s.Z)(a,2),r=e[0],o=e[1],i=(0,n.useState)(0),c=(0,s.Z)(i,2),u=(c[0],c[1],(0,n.useRef)(0));(0,n.useEffect)((function(){f.Z.ProjetType().then(function(){var t=(0,g.Z)(x().mark((function t(a){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.current=a.length,o({labels:a.map((function(t){return t.projet.map((function(t){return t.nom}))})),datasets:[{backgroundColor:["#97a7b6","#e6a9b3","#dce1e6","#5098cd","#73c779","#b5afd1","#0093a6"],hoverBackgroundColor:["#97a7b6","#e6a9b3","#dce1e6","#5098cd","#73c779","#b5afd1","#0093a6"],borderWidth:1,hoverBorderWidth:2,borderColor:["#97a7b6","#e6a9b3","#dce1e6","#5098cd","#73c779","#b5afd1","#0093a6"],borderAlign:"inner",data:a.map((function(t){return t.count}))}]});case 2:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}())}),[]);var p=[{afterDraw:function(t){if(0===u.current){var a=t.chart.ctx,e=t.chart.width,n=t.chart.height;t.clear(),a.save(),a.textAlign="center",a.textBaseline="middle",a.font="16px normal 'Helvetica Nueue'",a.fillText((0,d.ag)("dashboard.charts.projectT"),e/2,18),a.fillText((0,d.ag)("dashboard.charts.nodata"),e/2,n/2),a.restore()}}}];return(0,h.jsx)(l.$Q,{data:r,options:y,width:100,height:50,plugins:p})}var N,Z=e(30168),k=e(91876).ZP.div(N||(N=(0,Z.Z)(["\n  display: flex !important;\n  padding: 43px 30px;\n  width: 100%;\n  align-items: start;\n  justify-content: center;\n  gap: 4rem;\n  .icon,\n  .text {\n    flex-basis: 50%;\n  }\n  i {\n    font-size: 74px;\n    width: 100%;\n  }\n  .icon {\n    width: 60px;\n    height: 60px;\n    flex-basis: 60px;\n    text-align: right;\n  }\n  .text {\n    display: flex !important;\n    flex-direction: column;\n  }\n  h3 {\n    font-size: 45px;\n    margin-bottom: 0;\n    font-weight: 600;\n    -webkit-transition: 0.5s;\n    transition: 0.5s;\n    color: #2e4765;\n    margin-bottom: 0;\n    font-family: rajdhani, sans-serif;\n    line-height: 1;\n  }\n  p {\n    transition: 0.5s;\n    font-size: 19px;\n    font-weight: 500;\n    color: #b2b5c0;\n    font-family: rajdhani, sans-serif;\n    line-height: 1;\n  }\n"])));function C(t){var a=(0,n.useState)(0),e=(0,s.Z)(a,2),r=e[0],o=e[1];return(0,n.useEffect)((function(){f.Z.ProjetCount().then((function(t){o(t[0].count)}))}),[]),(0,h.jsxs)(k,{children:[(0,h.jsx)("div",{className:"icon",children:(0,h.jsx)("i",{className:"fas fa-parking"})}),(0,h.jsxs)("div",{className:"text",children:[(0,h.jsx)("h3",{children:r}),(0,h.jsxs)("p",{children:[" ",(0,d.ag)("dashboard.charts.project")]})]})]})}var A=e(53920),B=e(85591);function F(t){var a={onClick:function(t,a){(0,c.s1)().push("/depense")},title:{display:!0,text:(0,d.ag)("common.accounting")},tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},e=(0,d.ag)("dashboard.chart.title"),r=(0,d.ag)("dashboard.chart.content"),i=[{afterDraw:function(t){if(0===t.data.datasets[0].data.length){var a=t.chart.ctx,n=t.chart.width,s=t.chart.height;t.clear(),a.save(),a.textAlign="center",a.textBaseline="middle",a.font="16px normal 'Helvetica Nueue'",a.fillText(e,n/2,18),a.fillText(r,n/2,s/2),a.restore()}}}],u=(0,n.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),g=(0,s.Z)(u,2),p=g[0],x=g[1],f=(0,n.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),m=(0,s.Z)(f,2),b=m[0],v=m[1],j=[0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0,0,0,0,0,0,0,0,0];(0,n.useEffect)((function(){B.Z.list("","","","").then((function(t){for(var a=0;a<t.rows.length;a++)for(var e=0;e<y.length;e++)o()(t.rows[a].date).month()===e&&o()(t.rows[a].date).year()===o()().year()&&(y[e]+=t.rows[a].amount);v(y)})),A.Z.list("","","","").then((function(t){for(var a=0;a<t.rows.length;a++)for(var e=0;e<j.length;e++)o()(t.rows[a].date).month()===e&&o()(t.rows[a].date).year()===o()().year()&&(j[e]+=t.rows[a].amount);x(j)}))}),[]);var w={labels:[(0,d.ag)("dashboard.charts.months.1"),(0,d.ag)("dashboard.charts.months.2"),(0,d.ag)("dashboard.charts.months.3"),(0,d.ag)("dashboard.charts.months.4"),(0,d.ag)("dashboard.charts.months.5"),(0,d.ag)("dashboard.charts.months.6"),(0,d.ag)("dashboard.charts.months.7"),(0,d.ag)("dashboard.charts.months.8"),(0,d.ag)("dashboard.charts.months.9"),(0,d.ag)("dashboard.charts.months.10"),(0,d.ag)("dashboard.charts.months.11"),(0,d.ag)("dashboard.charts.months.12")],datasets:[{type:"line",label:(0,d.ag)("entities.depense.menu"),backgroundColor:"#D32F2F",borderColor:"#D32F2F",data:b,borderWidth:2,fill:!1},{type:"bar",label:(0,d.ag)("entities.charge.menu"),backgroundColor:"rgb(53, 162, 235)",borderColor:"rgb(53, 162, 235)",borderWidth:2,fill:!1,data:p}]};return(0,h.jsx)(l.ZP,{type:"bar",data:w,options:a,plugins:i})}function S(t){var a=(0,n.useState)(0),e=(0,s.Z)(a,2),r=e[0],o=e[1];return(0,n.useEffect)((function(){f.Z.partnerCount().then((function(t){o(t[0].count)}))}),[]),(0,h.jsxs)(k,{children:[(0,h.jsx)("div",{className:"icon",children:(0,h.jsx)("i",{className:"fas fa-handshake"})}),(0,h.jsxs)("div",{className:"text",children:[(0,h.jsx)("h3",{children:r}),(0,h.jsxs)("p",{children:[" ",(0,d.ag)("dashboard.charts.partner")]})]})]})}function E(t){var a=(0,n.useState)(0),e=(0,s.Z)(a,2),r=e[0],o=e[1];return(0,n.useEffect)((function(){f.Z.Newscount().then((function(t){o(t[0].count)}))}),[]),(0,h.jsxs)(k,{children:[(0,h.jsx)("div",{className:"icon",children:(0,h.jsx)("i",{className:"fas fa-newspaper"})}),(0,h.jsxs)("div",{className:"text",children:[(0,h.jsx)("h3",{children:r}),(0,h.jsxs)("p",{children:[" ",(0,d.ag)("dashboard.charts.news")]})]})]})}function R(t){var a=(0,n.useState)(),e=(0,s.Z)(a,2),r=e[0],o=e[1];return(0,n.useEffect)((function(){f.Z.AdhrentCount().then((function(t){o(t[0].count)}))}),[]),(0,h.jsxs)(k,{children:[(0,h.jsx)("div",{className:"icon",children:(0,h.jsx)("i",{className:"fas fa-users"})}),(0,h.jsxs)("div",{className:"text",children:[(0,h.jsx)("h3",{children:r}),(0,h.jsxs)("p",{children:[" ",(0,d.ag)("dashboard.charts.adherent")]})]})]})}var T=function(t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{style:{padding:0,marginLeft:"-12px",marginRight:"-12px"},children:(0,h.jsxs)("div",{className:"row no-gutters",children:[(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(C,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(S,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(E,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(R,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(F,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(u,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(w,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(j,{})})}),(0,h.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",paddingBottom:"24px"},className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,h.jsx)("div",{className:"bg-white p-2 border rounded",children:(0,h.jsx)(b,{})})})]})})})}}}]);